<div class="container mt-5">
  <form class="w-50 mx-auto border p-4 rounded shadow"
        (ngSubmit)="handleLogin()"
        [formGroup]="LoginForm">
    <h4 class="mb-4 text-center text-success fs-2">Login</h4>
    @if(errorMessage){
      <div class="alert alert-danger">
        {{errorMessage}}
      </div>
    }

    <!-- Email -->
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" formControlName="email" class="form-control" id="email" placeholder="Enter your email" />
      @let email = LoginForm.get('email');
      @if(email?.touched){
        <div>
          @if(email?.getError('required')){
            <span class="text-danger">Email is required</span>
          }
          @else if(email?.getError('email')){
            <span class="text-danger">Invalid email format</span>
          }
        </div>
      }
    </div>

    <!-- Password -->
    <div class="mb-3">
      <label for="password" class="form-label">Password</label>
      <input type="password" formControlName="password" class="form-control" id="password" placeholder="Enter your password" />
      @let password = LoginForm.get('password');
      @if(password?.touched){
        <div>
          @if(password?.getError('required')){
            <span class="text-danger">Password is required</span>
          }
          @else if(password?.getError('pattern')){
            <span class="text-danger">Password must include uppercase, lowercase, number, and be at least 8 characters</span>
          }
        </div>
      }
    </div>
<div class="mb-2 text-end text-primary">
  <a routerLink="/forgetPassword" class="text-danger">Forget Password</a>
</div>


    <!-- Submit -->
    <button [disabled]="LoginForm.invalid"
    type="submit" class="btn btn-success w-100">
    @if(isLoading==false){
      <span>Login</span>
    }
   @else {
    <span class="fa-solid fa-spinner fa-spin"></span>
   }
  </button>
    <p class="mt-3 text-center text-success">
      Don't have an account? <a class="text-danger" routerLink="/signup">Sign Up</a>
    </p>
  </form>
</div>



